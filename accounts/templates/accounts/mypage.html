
{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container mt-5">

  <!--  ロゴ -->
<h2 class="text-center mb-3">OshiMate</h2>


  <!-- パンくずリスト -->
  <nav aria-label="breadcrumb" class="mb-3">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'accounts:home' %}">ホーム</a></li>
      <li class="breadcrumb-item active" aria-current="page">マイページ</li>
    </ol>
  </nav>

<!-- プロフィール -->
<div class="d-flex align-items-center mb-4">
  {% if user.profile.image %}
    <img src="{{ user.profile.image.url }}" alt="プロフィール画像" class="rounded-circle me-3" width="100" height="100">
  {% else %}
    <img src="{% static 'images/user_icon.jpeg' %}" alt="デフォルト画像" class="rounded-circle me-3" width="100" height="100">
  {% endif %}

  <div>
    <h3>{{ user.username }}</h3>
    <p>{{ user.email }}</p>
  </div>
</div>

  

  <!-- アクションリンク -->
<div class="d-grid gap-2 my-3">
  <a href="{% url 'accounts:profile_edit' %}" class="btn btn-outline-secondary w-100 py-2">プロフィール編集へ</a>
  <a href="{% url 'accounts:email_change' %}" class="btn btn-outline-secondary w-100 py-2">メールアドレス変更へ</a>
  <a href="{% url 'accounts:password_change' %}" class="btn btn-outline-secondary w-100 py-2">パスワード変更へ</a>
  <a href="{% url 'items:user_posts' %}" class="btn btn-outline-secondary w-100 py-2">自分の投稿一覧へ</a>

  <!-- ログアウトだけ赤-->
  <button type="button" class="btn btn-danger w-100 py-2 mt-5" data-bs-toggle="modal" data-bs-target="#logoutModal">
    ログアウト
  </button>
</div>


</div>

<!-- ログアウトモーダル -->
<div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="logoutModalLabel">ログアウト確認</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="閉じる"></button>
      </div>
      <div class="modal-body">
        本当にログアウトしますか？
      </div>
      <div class="modal-footer">
        <a href="{% url 'accounts:logout' %}" class="btn btn-danger">はい</a>
        <button type="button" class="btn" style="background-color: #f1f1f1; color: #0d6efd;" data-bs-dismiss="modal">
          キャンセル
        </button>

        
      </div>
    </div>
  </div>
</div>
{% endblock %}
